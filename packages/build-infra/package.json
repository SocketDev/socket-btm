{
  "name": "build-infra",
  "version": "1.0.0",
  "description": "Shared build infrastructure for building third-party dependencies from source",
  "type": "module",
  "private": true,
  "exports": {
    "./lib/build-env": "./lib/build-env.mjs",
    "./lib/build-helpers": "./lib/build-helpers.mjs",
    "./lib/build-output": "./lib/build-output.mjs",
    "./lib/cache-key": "./lib/cache-key.mjs",
    "./lib/checkpoint-manager": "./lib/checkpoint-manager.mjs",
    "./lib/cmake-builder": "./lib/cmake-builder.mjs",
    "./lib/compiler-installer": "./lib/compiler-installer.mjs",
    "./lib/emscripten-builder": "./lib/emscripten-builder.mjs",
    "./lib/emscripten-installer": "./lib/emscripten-installer.mjs",
    "./lib/esbuild-plugin-unicode-transform": "./lib/esbuild-plugin-unicode-transform.mjs",
    "./lib/extraction-cache": "./lib/extraction-cache.mjs",
    "./lib/fetch-with-retry": "./lib/fetch-with-retry.mjs",
    "./lib/patch-validator": "./lib/patch-validator.mjs",
    "./lib/pinned-versions": "./lib/pinned-versions.mjs",
    "./lib/preflight-checks": "./lib/preflight-checks.mjs",
    "./lib/python-installer": "./lib/python-installer.mjs",
    "./lib/rust-builder": "./lib/rust-builder.mjs",
    "./lib/script-runner": "./lib/script-runner.mjs",
    "./lib/tool-installer": "./lib/tool-installer.mjs",
    "./lib/unicode-property-escape-transform": "./lib/unicode-property-escape-transform.mjs"
  },
  "scripts": {
    "test": "vitest run",
    "test:watch": "vitest"
  },
  "externalTools": {
    "cmake": {
      "description": "CMake build system",
      "packages": {
        "darwin": { "brew": "cmake" },
        "linux": { "apt": "cmake", "yum": "cmake", "dnf": "cmake", "apk": "cmake" },
        "win32": { "choco": "cmake", "scoop": "cmake" }
      },
      "versions": {
        "brew": "3.31.4",
        "apt": "3.22.1",
        "choco": "3.31.4"
      }
    },
    "ninja": {
      "description": "Ninja build system (faster than Make)",
      "packages": {
        "darwin": { "brew": "ninja" },
        "linux": { "apt": "ninja-build", "yum": "ninja-build", "dnf": "ninja-build", "apk": "samurai" },
        "win32": { "choco": "ninja", "scoop": "ninja" }
      },
      "versions": {
        "brew": "1.12.1",
        "apt": "1.11.1",
        "choco": "1.12.1"
      }
    },
    "python3": {
      "description": "Python 3 interpreter",
      "packages": {
        "darwin": { "brew": "python3" },
        "linux": { "apt": "python3", "yum": "python3", "dnf": "python3", "apk": "python3" },
        "win32": { "choco": "python", "scoop": "python" }
      },
      "versions": {
        "brew": "3.13.1",
        "apt": "3.10.12",
        "choco": "3.13.1"
      }
    },
    "binaryen": {
      "description": "Binaryen WebAssembly optimizer (wasm-opt)",
      "packages": {
        "darwin": { "brew": "binaryen" },
        "linux": { "apt": "binaryen", "yum": "binaryen", "dnf": "binaryen", "apk": "binaryen" },
        "win32": { "choco": "binaryen", "scoop": "binaryen" }
      },
      "versions": {
        "brew": "120",
        "apt": "105",
        "choco": "120"
      }
    },
    "z3": {
      "description": "Z3 Theorem Prover (required by llvm-strip)",
      "packages": {
        "darwin": { "brew": "z3" },
        "linux": { "apt": "z3", "yum": "z3", "dnf": "z3", "apk": "z3" },
        "win32": { "choco": "z3", "scoop": "z3" }
      },
      "versions": {
        "brew": "4.12.2",
        "apt": "4.8.12",
        "choco": "4.12.2"
      }
    },
    "llvm-strip": {
      "description": "LLVM binary stripper tool",
      "packages": {
        "darwin": { "brew": "llvm@16" },
        "linux": { "apt": "llvm-16", "yum": "llvm16", "dnf": "llvm16", "apk": "llvm16" },
        "win32": { "choco": "llvm", "scoop": "llvm" }
      },
      "versions": {
        "brew": "16.0.6",
        "apt": "16.0.0",
        "choco": "16.0.6"
      }
    },
    "git": {
      "description": "Git version control system",
      "packages": {
        "darwin": { "brew": "git" },
        "linux": { "apt": "git", "yum": "git", "dnf": "git", "apk": "git" },
        "win32": { "choco": "git", "scoop": "git" }
      },
      "versions": {}
    },
    "curl": {
      "description": "Command-line tool for transferring data",
      "packages": {
        "darwin": { "brew": "curl" },
        "linux": { "apt": "curl", "yum": "curl", "dnf": "curl", "apk": "curl" },
        "win32": { "choco": "curl", "scoop": "curl" }
      },
      "versions": {}
    },
    "patch": {
      "description": "GNU patch utility for applying diffs",
      "packages": {
        "darwin": { "brew": "gpatch" },
        "linux": { "apt": "patch", "yum": "patch", "dnf": "patch", "apk": "patch" },
        "win32": { "choco": "patch", "scoop": "patch" }
      },
      "versions": {}
    },
    "make": {
      "description": "GNU Make build tool",
      "packages": {
        "darwin": { "brew": "make" },
        "linux": { "apt": "make", "yum": "make", "dnf": "make", "apk": "make" },
        "win32": { "choco": "make", "scoop": "make" }
      },
      "versions": {}
    },
    "wasm-opt": {
      "description": "Binaryen WebAssembly optimizer",
      "packages": {
        "darwin": { "brew": "binaryen" },
        "linux": { "apt": "binaryen", "yum": "binaryen", "dnf": "binaryen", "apk": "binaryen" },
        "win32": { "choco": "binaryen", "scoop": "binaryen" }
      },
      "versions": {}
    },
    "gh": {
      "description": "GitHub CLI",
      "packages": {
        "darwin": { "brew": "gh" },
        "linux": { "apt": "gh", "yum": "gh", "dnf": "gh", "apk": "github-cli" },
        "win32": { "choco": "gh", "scoop": "gh" }
      },
      "versions": {}
    },
    "liblzma-dev": {
      "description": "LZMA compression library development files (required for Linux compression tools)",
      "packages": {
        "linux": { "apt": "liblzma-dev", "yum": "xz-devel", "dnf": "xz-devel", "apk": "xz-dev" }
      },
      "versions": {
        "apt": "5.2.5"
      }
    },
    "gcc-13": {
      "description": "GCC 13 C compiler (required for Node.js v24+ on Ubuntu 22.04)",
      "packages": {
        "linux": { "apt": "gcc-13" }
      },
      "versions": {
        "apt": "13.1.0"
      }
    },
    "g++-13": {
      "description": "GCC 13 C++ compiler (required for Node.js v24+ on Ubuntu 22.04)",
      "packages": {
        "linux": { "apt": "g++-13" }
      },
      "versions": {
        "apt": "13.1.0"
      }
    },
    "gcc": {
      "description": "GCC C compiler (from MinGW-w64 on Windows, required for compression tools)",
      "packages": {
        "darwin": { "brew": "gcc" },
        "linux": { "apt": "gcc", "yum": "gcc", "dnf": "gcc", "apk": "gcc" },
        "win32": { "choco": "mingw", "scoop": "mingw" }
      },
      "versions": {
        "brew": "14.2.0",
        "apt": "11.4.0",
        "choco": "14.2.0",
        "scoop": "14.2.0",
        "github-runner": "14.2.0"
      },
      "notes": "GitHub Actions windows-2022 runner includes gcc 14.2.0 by default from MinGW-w64"
    },
    "g++": {
      "description": "GCC C++ compiler (from MinGW-w64 on Windows, required for compression tools)",
      "packages": {
        "darwin": { "brew": "gcc" },
        "linux": { "apt": "g++", "yum": "gcc-c++", "dnf": "gcc-c++", "apk": "g++" },
        "win32": { "choco": "mingw", "scoop": "mingw" }
      },
      "versions": {
        "brew": "14.2.0",
        "apt": "11.4.0",
        "choco": "14.2.0",
        "scoop": "14.2.0",
        "github-runner": "14.2.0"
      },
      "notes": "GitHub Actions windows-2022 runner includes g++ 14.2.0 by default from MinGW-w64"
    }
  },
  "dependencies": {
    "@babel/parser": "catalog:",
    "@babel/traverse": "catalog:",
    "@socketsecurity/lib": "catalog:",
    "magic-string": "catalog:"
  },
  "devDependencies": {
    "vitest": "catalog:"
  }
}
